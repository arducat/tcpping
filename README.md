# TcpPing v0.1.3

Простая утилита для отправления запросов на TCP сервер.

## Компилирование и запуск приложения

Сначала клонируем репозиторий:
`git clone https://github.com/arducat/tcpping.git`

Если вы хотите скомпилировать и сразу запустить:
`dub run --build=release`
Если вы хотите просто скомпилировать:
`dub build --build=release`

Скомпилированная версия соберется в корне папки.

Так же готовый бинарный файл можно найти в релизах.

## Использование приложения

В TcpPing есть два типа использования:
1. "Быстрый" режим (появился в v0.1.1, был дополнен в v0.1.2)
2. Консоль TcpPing (появился в v0.1.2)

### Использование "быстрого" режима

За "быстрый" режим отвечает флаг `-q`.  
Сразу после него должен быть либо `-a [адрес tcp сервера]`, либо `--address [адрес tcp сервера]`.  
После адреса должен быть либо `-s [сообщение]`, либо `--send [сообщение]`.  

Это должно отправить на указаный TCP сервер Ваше сообщение.  
Пример:  
`tcpping -q -a 127.0.0.1:1234 -s Привет`  

### Использование Консоли TcpPing

Чтобы войти в Консоль TcpPing, достаточно не указывать аргументы.  

Внутри консоли есть следующие команды:  
 -  help - показывает справку  
 -  ver - показывает версию  
 -  connect \[адрес] - подключает к TCP серверу. Если Вы не указали адрес, то программа у Вас его спросит.  
 -  send \[сообщение] - отправляет на TCP сервер сообщение. Если Вы не указали сообщение, то программа у Вас его спросит.  

Внимание: используйте send до connect, иначе сообщение не будет отправлено.  

### Особенности TcpPing

У ArduCat был выбор:  
1. Либо каждый раз переподключатся при отправлении сообщения, но зато иметь возможность менять TCP сервер;
2. Либо не иметь возможность менять TCP сервер.
Как вы понимаете, ArduCat выбрал 1й вариант. Каждый раз, когда TcpPing отправляет сообщение, оно переподключается к серверу.  
Прошу Вас это учесть.  

## Благодарности
1. Спасибо Grisshink'у
